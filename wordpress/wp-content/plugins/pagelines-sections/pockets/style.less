@pocket-img-shadow:        darken(@pl-base,70);
@pocket-img-before:        @black;

.pocket-black-overlay() {
	content:'';
	position: absolute;
	background:rgba(0,0,0,0.5);
	left:0;
	top:0;
	width:100%;
	height:100%;
	z-index:0;
}
.pocket-link-overlay() {
	content:'';
	position: absolute;
	background:rgba(0,0,0,0.2);
	left:0;
	top:0;
	width:100%;
	height:100%;
	z-index:0;
}

.pocket-icon-external {
	.opacity(0);
	position: absolute;
	top:10px;
	right:10px;
	height:25px;
	width:25px;
	text-shadow:1px 1px 1px rgba(0,0,0,0.5);
	background:@black; /*IE*/
	background:rgba(0,0,0,0.4);
	.border-radius(3px);
	padding:6px;
	.box-sizing(border-box);
	.box-shadow(inset 0 0 2px rgba(0,0,0,0.5));
}

.hyphens(@mode: auto) {
  -webkit-hyphens: @mode;
     -moz-hyphens: @mode;
      -ms-hyphens: @mode;
       -o-hyphens: @mode;
          hyphens: @mode;
        word-wrap: break-word;
}

.pocket-text-shadow (@pl-base) when (lightness(@pl-base) >= 50%) {
	text-shadow:1px 1px 1px rgba(255,255,255,0.65);
}
.pocket-text-shadow (@pl-base) when (lightness(@pl-base) < 50%) {
	text-shadow:1px 1px 1px rgba(0,0,0,0.65);
}


// Maximum Specificity
.single-pockets #site #page-main #content{
	.content {
		max-width:100%;
		width:100%;

		.mcolumn-pad { padding:0; }
		.content-pad { padding:0; }
	}
}
.post-type-archive-pockets .fullwidth #content{
	.content {
		.mcolumn-pad { padding:0; }
		.content-pad { padding:0; }
	}
}

// Main Layout + Global Styles
.ba-pocket-wrap {
	padding:0 15px;
	.box-sizing(border-box);
	margin:0 auto;
	max-width:@pl-content-width;
	width:100%;
}

// Label Styling
.ba-single-pocket-label {
	font-weight: bold;
}
.ba-single-pocket-label-att {
	font-style:italic;
}
.ba-single-pocket-label,
.ba-single-pocket-label-att {
	display: block;
}
@media(max-width:767px) {
	.pockets {

		.pockets-layout-wide {
			.pocket-labels li:first-child {
				margin-top:10px;
			}
		}

		.ba-pocket-wrap {
			.ba-single-pocket-label {
				margin-right:5px;
			}
			.ba-single-pocket-label,
			.ba-single-pocket-label-att {
				display: inline;
			}
			.pocket-labels {
				li {
					width:50%;
					float:left;
				}
			}
		}
	}

}
@media(max-width:480px) {
	.pockets .ba-pocket-wrap {
		.ba-single-pocket-label {
			margin-right:5px;
		}
		.ba-single-pocket-label,
		.ba-single-pocket-label-att {
			display: inline;
		}
		.pocket-labels {
			li {
				width:100%;
				float:none;
			}
		}
	}
}

// Isotope Control Nav
.pocket-filter-nav-wrap {
	width:100%;
	max-width:@pl-page-width;
	margin: 25px auto;
	border-bottom:1px solid @baseContrast;

	.pocket-filter-options {

		li {
			float:left;

			a {
				text-transform: uppercase;
				font-size:0.82em;
				color:fadeout(@pl-text,20);
				display: block;
				padding:7px 15px;
				.box-sizing(border-box);

				&:hover {
					color:@pl-link;
				}

				&.active {
					color:@pl-link;
				}
			}
		}
	}
}

// List View Shortcode
.pocket-list-shortcode {
	ul {
		margin:0;
	}
	.pocket-list-item {
		width:100%;
		display: block;
		min-height:100px;
		padding:15px;
		.box-sizing(border-box);
		position: relative;

		li {
			//position: relative;
			z-index:1;
		}

		&:before {
			.pocket-black-overlay;
		}

		h4 {
			text-shadow:1px 1px 1px @black;
			margin:0;
			color:@white;
			padding:10px 20px;
			.box-sizing(border-box);
			
			span {
				padding:0 2px;
			}

		}

		i {
			color:@white;
			position: absolute;
			top:44%;
			right:0;
		}

		&:hover {
			text-decoration: none;

			&:before {
				.pocket-link-overlay;
			}
		}
		&:active {
			&:before {
				.pocket-link-overlay;
				background:rgba(255,255,255,0.05);
			}
		}
	}

	&.horizontal {
		.pocket-list-item {
			position: relative;
			padding-left:0;
			padding-bottom:0;

			h4 {
				padding:8px;
				text-shadow:1px 1px 1px rgba(0,0,0,0.5);
				background:@black; /*IE*/
				background:rgba(0,0,0,0.4);
				position: absolute;
				bottom:0;
				left:0;
			}

			i {
				.pocket-icon-external;
				.opacity(70);
			}

			&:hover {
				i {
					.opacity(95);
				}
			}

		}
	}

	&.grid {

		.pocket-list-item {
			width:25%;
			float:left;
			display: block;

			h4 {
				position: relative;
				text-align: center;
			}
			i {display: none;}

			@media(max-width:767px) {
				width:100%;
				float:none;
			}
		}
	}
	&.vertical {
		.pocket-list-item {
			width:25%;
			float:left;
			display: block;
			height:400px;
			position: relative;
			padding-bottom:0;

			li {
				position: static;
			}

			h4 {
				padding:8px;
				text-shadow:1px 1px 1px rgba(0,0,0,0.5);
				background:@black; /*IE*/
				background:rgba(0,0,0,0.4);
				position: absolute;
				bottom:0;
				left:0;
				text-align: center;
				width:100%;
			}
			i {
				.pocket-icon-external();
			}


			&:hover {

				span {
					background: none;
				}

				i {
					.opacity(95);
				}
			}

			@media(max-width:767px) {
				height:150px;
				width:100%;
				float:none;
			}
		}
	}
}

// Carousel View Shortcode
.pocket-carousel-shortcode {

	background: @baseContrastSlight;

	a  {
		background: @black;

		&:hover {
			.transition(opacity .2s linear);
			background: fadeout(@black,90);

			img {
				.opacity(100);
			}
		}

		img {
			.opacity(60);
		}

		&:active {
			background: fadeout(@black,70);
			img {
				.opacity(80);
			}
		}
	}

	.pocket-carousel-item-caption{
		width:150px;
		position: absolute;
		text-align: center;
		.hyphens(break-word);
		display:block;
		bottom:0;
		padding:2px;
		.box-sizing(border-box);
		color:fadeout(@white,5);
		text-shadow:1px 1px 1px rgba(0,0,0,0.5);
		background:@black; /*IE*/
		background:rgba(0,0,0,0.4);
		z-index:1;
	}

}

.pocket-carousel-pager {
	a {
		display: inline-block;
		padding:5px 8px;

		&:hover {
			text-decoration: none;
		}

		&.disabled {
			color:fadeout(@pl-link,75);
		}
	}
}

.ba-pocket-gallery-wrap {
	margin:25px auto;
	padding:10px;
	.box-sizing(border-box);
	border:1px solid @pl-base;
	background:lighten(@baseContrast,5);
	.box-shadow(0 0 2px darken(@pl-base,10));
	position: relative;

	.span9 {
		overflow: hidden;
	}
	.ba-single-pocket-gallery {
		border:1px solid @pl-base;
		&:hover {
			cursor: pointer;
		}
	}

	.ba-single-pocket-gallery-cap-pad {
		padding:5px 9px 5px 0;
		.box-sizing(border-box);
		.pocket-text-shadow(@pl-base);
	}

	.pocket-gall-title {
		line-height: 1.1em;
		border-bottom:1px solid @baseContrast;
		padding-bottom:0.2em;
		margin-bottom:0.15em;
	}
	.pocket-gall-cap {
		color:fadeout(@pl-text,30);
		margin-bottom: 21px;
		font-size: 16px;
		font-weight: 200;
	}
	.pocket-gall-desc {
		font-size:1em;
	}

	.ba-single-pocket-gallery-nav {
		padding:8px 4px 8px 0;
		.box-sizing(border-box);
		margin:0;
		text-align:center;
		position: absolute;
		bottom:10px;
		width:24%;
		right:10px;

		li {
			display: inline-block;
			margin-right:-4px;
		}

		a {
			.pocket-text-shadow(@pl-base);
			color:fadeout(@pl-text,60);

			&:hover {
				font-weight: bold;
				color:@pl-link;
			}

			&.active {
				color:@pl-link;
			}

			&.pause,
			&.resume {
				color:fadeout(@pl-text,80);
				font-size:11px;

				&.active {
					color:@pl-link;
				}
			}

			&.prev {
				margin-right:10px;
				i {line-height: 0.575em;}
			}
			&.next {
				margin-left:10px;
				i {line-height: 0.575em;}
			}
		}
	}

}
@media (max-width:767px) {
	.pocket-gallery-left {
		.ba-single-pocket-gallery-nav {
			width:100%;
			right:0;
		}
		.ba-single-pocket-gallery-cap {
			margin-bottom:20px;
		}
	}
	.pocket-gallery-right {
		.ba-single-pocket-gallery-nav {
			width:100%;
			left:0;
		}
		.ba-single-pocket-gallery-cap {
			padding-top: 10px;
			display: block;
			clear: both;
			margin-bottom:20px;
		}
	}
}
// pocket gallery right
.pocket-gallery-right {
	.span9 {
		float:right;
	}
	.ba-single-pocket-gallery-nav {
		left:10px;
	}
	.ba-single-pocket-gallery-cap-wrap {
		margin-left:8px;
	}
}

// Labels
.ba-single-pocket-label {
	font-weight: bold;
	font-size:1em;
}
.ba-single-pocket-label-att {
	font-style:italic;
	font-size:0.88em;
}
.ba-single-pocket-label,
.ba-single-pocket-label-att {
	display: block;
}

// share stuff
.ba-single-pocket-shares {
	padding-top:0;
	text-align: center;
	position: relative;

	&.open {
		.transition(all .25s linear);

		.tooltip {
			display: none !important; /* only using !important because we're overriding jquery, its a cosmetic decision*/
		}
	}

}
.ba-single-pocket-share-trigger {
	padding:10px;
	.box-sizing(border-box);
	display: block;
	text-align: center;
}
.ba-single-pocket-share-drawer {
	bottom:-125px;
	width:100%;
	height:130px;
	left:0;
	display:none;

	ul {
		text-align: center;
	}

	a {
		color:fadeout(@pl-text,40);
		display: block;
		background: @baseContrastSlight;
		margin:7px auto;
		padding:7px 10px;
		width:20px;

		&:hover {
			background: @pl-link;
			color:@white;
			.transition(color .25s linear);
		}

		&.twitter {
			margin-top:0;
		}
		&.pinterest {
			margin-bottom:0;
		}
	}
}
@media(max-width:767px) {
	.ba-single-pocket-shares,
	.ba-single-pocket-share-trigger,
	.ba-single-pocket-share-drawer {
		display:none;
	}
}
// post nav
.pocket-post-nav {
	margin:55px auto 0;
	width:100%;
	text-align: center;

	li {
		display: inline-block;
		margin-right:-4px;

		a {
			padding:2px;
			.box-sizing(border-box);
			background: @baseContrastSlight;

			&:hover {
				color:@white;
				background:@pl-link;
			}
		}

		&.previous-post span,
		&.next-post span {
			display:none;
		}
	}
}
@media (max-width:767px) {
	.pockets .pocket-post-nav {
		margin:0 auto 30px;

		.previous-post span {
			padding-right:5px;
		}
		.next-post span {
			padding-left:5px;
		}
		.previous-post span,
		.next-post span {
			display:inline;
		}
		a {
			margin:0 10px 30px;
		}
	}
}

// sidebar shortcode (sbsc)
.ba-single-pocket-sbsc {
	position: absolute;
	right: 0;
	margin-top: -3em;
	width: 12%;

	@media(max-width:767px) {
		display:block;
		position:static;
		margin-top:0;
	}
}

// Minimum Specificity
.pockets {

	.tooltip .tooltip-arrow {
		border-bottom-color:@baseContrastSlight;
	}
	.tooltip.top .tooltip-arrow {
		border-top-color:@baseContrastSlight;
	}
	.tooltip-inner {
		color:#777;
		background:@baseContrastSlight;
	}
	// Thumbnail
	.single-pocket-thumb {
		margin:0 auto;
		display: block;
		.box-shadow(0 0 2px rgba(0,0,0,0.5));
		.border-radius(50em);
		width:100%;
		max-width: 150px;
	}
	.ba-single-pocket-entry-content p:last-child {
		margin-bottom:0;
	}

}

// Archive
.post-type-archive-pockets {

	#pockets {
		margin:1.6em auto;
	}

	a:hover {
		text-decoration: none;
		.transition(all .25s linear);
	}

	.ba-pocket-wrap.isotope {
		padding:0;
		@media(max-width:@pl-page-width) {
			max-width:95%;
		}
	}

	.pocket-inner-article {
		color:@pl-text;
		position: relative;
		z-index:3;

	}
	.pocket-article-trigger {
		text-decoration: none;

	}
	article {
		float:left;
		padding:8px;
		.box-sizing(border-box);

		.pocket-inner-article {
			padding:6px;
			.box-sizing(border-box);
		}

		h2 {
			margin:-5px 0 0;
		}

		h2,.pocket-grid-article-entry {
			text-shadow:1px 1px 1px rgba(0,0,0,0.5);
			color:fadeout(@white,5);  // temp need to do something about dynamic colors
		}

		.pocket-grid-article-entry {
			p {margin:0;}
		}

		&:after {
			.pocket-black-overlay;
		}

		&.active {

			h2,.pocket-grid-article-entry {
				color:fadeout(@white,5);
			}

			.pocket-inner-article {
				background: rgba(0,0,0,0.4);
			}

			&:before {
				content:'\f08e';
				font-family:PageLinesFont;
				z-index:9;
				color:@white;
				.opacity(95);
				position: absolute;
				top:15px;
				right:15px;
				height:25px;
				width:25px;
				text-shadow:1px 1px 1px rgba(0,0,0,0.5);
				.border-radius(3px);
				padding:4px 6px 6px;
				.box-sizing(border-box);

				&:hover {
					cursor: pointer;
				}
			}

			&:after {
				.pocket-link-overlay;
			}
		}

		.single-pocket-thumb {
			.border-radius(0);
		}

		@media(max-width:@pl-page-width) {
			width:100% !important; /* Calling important to override js */
			margin-left:-15px !important; /* Calling important to override js */
		}

	}

}


// general layout
.pocket-general {
	// info panel
	.ba-single-pocket-info-pad {
		border-top:1px solid @baseContrastSlight;
		padding:20px;
		.box-sizing(border-box);
		background:lighten(@baseContrast,5);
		.box-shadow(inset 0 0 2px @white);
		.pocket-text-shadow(@pl-base);

		.morepad {
			padding:10px;
			.box-sizing(border-box);
		}
	}
	// info trigger
	.ba-single-pocket-info-trigger {
		display: block;
		border-top:1px solid @baseContrastSlight;
		color:@pl-link;
		text-transform: uppercase;
		font-size:12px;
		letter-spacing: 0.05em;
		line-height:1.4em;

		span {
			font-family:@buttonFontFamily;
			padding:4px 4px 3px 4px;
			.box-sizing(border-box);
			//background:@baseContrastSlight;
			height:21px;
		}

		&:hover {
			color:lighten(@pl-link,7);
			span,
			&:after {
				//height:21px;
				color:lighten(@pl-link,7);
				//background:@pl-link;
			}
			&:after {
				//border-top:1px solid @pl-link;
			}
		}

		&:after { // Up
			content: '\f107';
			font-family: PageLinesFont;
			padding: 2px 5px;
			.box-sizing(border-box);
			//background: @baseContrastSlight;
			margin-top: 0px;
			display: inline-block;
			//border-top: 1px solid @baseContrastSlight;
		}

		&.open { // Down
			border-top-color: @pl-link;
			color:lighten(@pl-link,7);
			.transition(.25s linear);
			span {
				color:lighten(@pl-link,7);
				//background:@pl-link;
			}
			&:after {
				content:'\f106';
				font-family:PageLinesFont;
				color:lighten(@pl-link,7);
				//background:@pl-link;
				//border-top:1px solid @pl-link;
			}
		}
	}
	.ba-pocket-wrap {
		padding:15px;
	}
	h1 {
		margin-bottom:5px;
	}
	.ba-single-pocket {
		padding-top: 15px;
	}
	.ba-single-pocket-info-list {

		margin-top:50px;

		ul li:nth-child(5) {
			margin-left:0;
		}

		&.over-four {
			margin-top:40px;
		}
	}
	.ba-single-pocket-content-share {
		position: relative;
	}

}

// wide layout
.pocket-wide {

	// wide featured image
	.ba-single-pocket-featimg-wrap {
		max-height:350px;
		overflow: hidden;
		position: relative;
		.box-shadow(~"inset 0 -5px 5px -5px @{pocket-img-shadow},inset 0 5px 5px -5px @{pocket-img-shadow}");

		&.pocket-wrap-fixed {
			width:100%;
			height:98px;
			.transition(height .2s linear);
			z-index: 2;
		}

		&:before{
			content:'';
			position: absolute;
			left:0;
			top:0;
			right:0;
			width:100%;
			height:100%;
			background: fadeout(@pocket-img-before,45);
		}

		// Padding
		.ba-single-pocket-featimg-pad {
			padding:20px;
			.box-sizing(border-box);
			position: relative;
		}

		// Title
		h1 {
			margin-bottom:25px;
			width:100%;
			text-align: center;
			color:fadeout(@pl-base,10); // Match Site Background Color
			font-size:3em;
			text-shadow:1px 1px rgba(0,0,0,0.5);
		}

	}

	.single-pocket-thumb {
		margin-bottom:8px;
	}

	.ba-single-pocket-entry-content-wrap {
		margin-top:20px;
		position:relative;
	}

	.ba-single-pocket-excerpt-share {
		border-bottom:1px solid @baseContrast;
	}
	.ba-single-pocket-entry-content {
		p:first-child {
			margin-top:0;

			@media(max-width:767px) {
				margin-top:1.6em;
			}
		}
	}

	.ba-single-pocket-entry-excerpt {
		margin-bottom:20px;
	}

	.ba-single-pocket-excerpt {
		padding:35px 35px 35px 0;
		margin-bottom:0;
		.box-sizing(border-box);

		p {
			margin:0;
		}

		@media (max-width:767px) {
			padding-right:0;
		}

	}
	// Labels
	.pocket-labels {
		li {
			margin:10px auto;

			&:first-child {
				margin-top:0;
			}
			&:last-child {
				margin-bottom:0;

				@media(max-width:767px) {
					margin-bottom:20px;
				}
			}
		}
	}

}


// Isotope
.isotope,
.isotope .isotope-item {
  /* change duration value to whatever you like */
  -webkit-transition-duration: 0.5s;
     -moz-transition-duration: 0.5s;
      -ms-transition-duration: 0.5s;
       -o-transition-duration: 0.5s;
          transition-duration: 0.5s;
}

.isotope {
  -webkit-transition-property: height, width;
     -moz-transition-property: height, width;
      -ms-transition-property: height, width;
       -o-transition-property: height, width;
          transition-property: height, width;
}

.isotope .isotope-item {
  -webkit-transition-property: -webkit-transform, opacity;
     -moz-transition-property:    -moz-transform, opacity;
      -ms-transition-property:     -ms-transform, opacity;
       -o-transition-property:      -o-transform, opacity;
          transition-property:         transform, opacity;
}

/**** disabling Isotope CSS3 transitions ****/

.isotope.no-transition,
.isotope.no-transition .isotope-item,
.isotope .isotope-item.no-transition {
  -webkit-transition-duration: 0s;
     -moz-transition-duration: 0s;
      -ms-transition-duration: 0s;
       -o-transition-duration: 0s;
          transition-duration: 0s;
}

.isotope-item {
  z-index: 2;
}

.isotope-hidden.isotope-item {
  pointer-events: none;
  z-index: 1;
}

// Media Queries
@media(max-width:800px) {

	// Force content to 100%
	.pockets #site .content {
		width:100%;
	}

	.pocket-layout-wide {
		.pocket-labels {
			border-bottom:1px solid @baseContrast;
		}
	}

}